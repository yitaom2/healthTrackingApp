âœ… App-Building Prompt
Build an iOS app called â€œSleepScore Liteâ€ using Swift & SwiftUI.
Below are the full requirements. Follow them exactly and generate the complete project structure, code files, data models, and placeholder UI.
 
ðŸ“Œ App Summary
SleepScore Lite is a minimalist sleep-rating app for Apple Watch users.
It pulls sleep data from Apple Health, evaluates it against user sleep goals, produces a single daily rating, stores up to 10 years of history, and displays all days in a color-coded calendar.
 
ðŸ“Œ Core MVP Requirements
1. Sleep Goal Setup
Create screens where the user sets:
â€¢	Bedtime start
â€¢	Bedtime end
â€¢	Wake window start
â€¢	Wake window end
â€¢	Daily target sleep hours
Persist this locally.
 
2. Apple Health Integration
Use HealthKit to fetch:
â€¢	Sleep start timestamp
â€¢	Sleep end timestamp
â€¢	Sleep duration (sum of segments)
Handle missing permissions gracefully.
 
3. Rating Algorithm
Implement this logic:
If duration >= goalHours AND sleep start/end within userâ€™s defined sleep window:
    rating = Perfect (green)
Else if duration >= goalHours:
    rating = Good (light green)
Else if (goalHours - duration) <= 1 hour:
    rating = OK (yellow)
Else:
    rating = Not Meet (gray)
Expose rating as an enum.
 
4. Data Model (Persist 2 Years)
Use CoreData or SQLite.
Store:
SleepDay {
  date
  actualStart
  actualEnd
  durationHours
  rating {perfect, good, ok, not_meet}
  source {apple_watch, manual}
  createdAt
  updatedAt
}
Must support 10 years (â‰ˆ3650 days).
 
5. Manual Adjustments
User can tap a day â†’ edit sleep start/end manually â†’ re-run rating.
 
6. Daily Sleep Card UI
Show:
â€¢	Start time
â€¢	End time
â€¢	Total hours
â€¢	Rating color
 
7. Calendar View
Month grid UI with:
â€¢	A cell for each day
â€¢	Background color = rating color
â€¢	Ability to swipe or navigate months
â€¢	Tap to open detail view
â€¢	Support historical navigation for 10 years
Performance must load a month in under 100ms.
 
ðŸ“Œ Technical Requirements
â€¢	Language: Swift
â€¢	Framework: SwiftUI
â€¢	Local storage: CoreData or SQLite
â€¢	Sleep data: HealthKit sleepAnalysis
â€¢	Efficient calendar rendering (LazyVGrid recommended)
â€¢	Clean project structure:
o	Models
o	ViewModels
o	Views
o	Storage layer
o	HealthKit wrapper
o	Rating engine
 
ðŸ“Œ Non-goals (do NOT implement in MVP)
â€¢	Sleep stages
â€¢	HRV or heart-rate integration
â€¢	Coaching or recommendations
â€¢	Notifications
â€¢	Cloud sync
â€¢	Subscriptions
â€¢	Apple Watch companion app
 
ðŸ“Œ Deliverables
Generate:
â€¢	Full SwiftUI project structure
â€¢	Core screens: Onboarding, Daily Card, Calendar View, Detail View, Settings
â€¢	Persistence layer
â€¢	Rating engine
â€¢	Mock data fallback mode (when no HealthKit access)
â€¢	Clean placeholder UI that compiles
 
ðŸ“Œ Additional Instructions
â€¢	Use dummy data when building the UI so screens render properly in preview.
â€¢	Comment your code clearly.
â€¢	Use MVVM architecture.
â€¢	Follow Apple HIG where possible.
â€¢	Make sure navigation works end-to-end with sample data.
